{%load static%}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenido a nuestro sitio oficial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            width: 100%;
            min-height: 100vh;
            background-image: linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('{% static "images/lago.jpg" %}');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #fff;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 50px 0;
        }
        
        .logo {
            font-size: 3.5rem;
            font-weight: 800;
            color: #ff9900;
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.5);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }
        
        .subtitle {
            font-size: 1.5rem;
            color: #fff;
            margin-bottom: 30px;
            font-weight: 300;
        }
        
        .welcome-section {
            background-color: rgba(8, 27, 41, 0.85);
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 40px;
            box-shadow: 0 0 30px rgba(175, 98, 20, 0.6);
            border: 2px solid #ff4d00;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #ff9900;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        p {
            font-size: 1.1rem;
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .highlight {
            color: #ff9900;
            font-weight: 600;
        }

        /* Bot贸n de Reserva Principal */
        .reserve-btn-container {
            text-align: center;
            margin: 30px 0;
        }

        .reserve-btn {
            display: inline-block;
            background: linear-gradient(135deg, #ff9900, #ff4d00);
            color: white;
            padding: 18px 45px;
            font-size: 1.3rem;
            font-weight: 700;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(255, 77, 0, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
            text-decoration: none;
        }

        .reserve-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 77, 0, 0.6);
            background: linear-gradient(135deg, #ffaa00, #ff6600);
        }

        .reserve-btn i {
            margin-right: 10px;
        }
        
        .destinations {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-top: 40px;
        }
        
        .destination-btn {
            position: relative;
            height: 180px;
            background-size: cover;
            background-position: center;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            border: none;
            outline: none;
            display: block;
            text-decoration: none;
        }
        
        .destination-btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.8));
        }
        
        .destination-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(255, 77, 0, 0.6);
        }
        
        .destination-btn:hover::before {
            background: linear-gradient(to bottom, rgba(255, 77, 0, 0.3), rgba(0, 0, 0, 0.8));
        }
        
        .destination-name {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            font-size: 1.25rem;
            font-weight: 600;
            color: white;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            z-index: 1;
        }
        
        .destination-btn:hover .destination-name {
            color: #ff9900;
        }
        
        .destination-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            color: white;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            z-index: 1;
        }

        /* Modal de Reserva - CORREGIDO */
        .modal {
            display: none;
            position: fixed;
            z-index: 9999; /* AUMENTADO - Asegura que est茅 encima de todo */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; /* AGREGADO - Permite scroll interno */
            background-color: rgba(0, 0, 0, 0.9); /* MS OSCURO */
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(8, 27, 41, 0.98), rgba(20, 40, 60, 0.98));
            margin: 3% auto; /* REDUCIDO - Mejor posicionamiento */
            padding: 40px;
            border: 3px solid #ff9900; /* MS GRUESO */
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 10px 50px rgba(255, 153, 0, 0.5);
            animation: slideDown 0.3s;
            position: relative; /* AGREGADO */
            max-height: 90vh; /* AGREGADO - Limita altura */
            overflow-y: auto; /* AGREGADO - Scroll interno */
        }

        @keyframes slideDown {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close {
            color: #ff9900;
            position: absolute; /* CAMBIADO */
            right: 20px;
            top: 15px;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            line-height: 30px;
            z-index: 10000; /* AGREGADO */
            transition: all 0.3s;
        }

        .close:hover {
            color: #ff4d00;
            transform: scale(1.2); /* AGREGADO - Efecto hover */
        }

        .modal h2 {
            color: #ff9900;
            margin-bottom: 30px;
            margin-top: 10px; /* AGREGADO - Espacio para el bot贸n X */
            text-align: center;
            font-size: 2rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #fff;
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ff9900;
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s;
        }

        /* AGREGADO - Estilos para options del select */
        .form-group select option {
            background-color: #1a1a2e;
            color: #fff;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #ff4d00;
            background-color: rgba(255, 255, 255, 0.15);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, #ff9900, #ff4d00);
            color: white;
            padding: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .submit-btn:hover {
            background: linear-gradient(135deg, #ffaa00, #ff6600);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 77, 0, 0.5);
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
        }
        
        @media (max-width: 900px) {
            .destinations {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 600px) {
            .destinations {
                grid-template-columns: 1fr;
            }
            
            .logo {
                font-size: 2.5rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 10px;
            }
            
            .welcome-section {
                padding: 20px;
            }

            .reserve-btn {
                padding: 15px 30px;
                font-size: 1.1rem;
            }

            .modal-content {
                padding: 25px;
                margin: 5% 5%;
                width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">TURIPAZ</div>
            <div class="subtitle">Descubre Los Reyes La Paz, Estado de M茅xico</div>
        </header>
        
        <section class="welcome-section">
            <h1>Bienvenidos a Los Reyes La Paz</h1>
            
            <p>Ubicado en el oriente del Estado de M茅xico, <span class="highlight">Los Reyes La Paz</span> es un municipio con una rica historia que se remonta a la 茅poca prehisp谩nica. Sus ra铆ces culturales est谩n profundamente arraigadas en la civilizaci贸n mexica, siendo hogar de importantes vestigios arqueol贸gicos que son testigos silenciosos de su grandeza ancestral.</p>
            
            <p>El municipio recibe su nombre en honor a los Tres Reyes Magos y "Acaquilpan" (su nombre original n谩huatl) que significa "lugar donde crecen las ca帽as". Fundado oficialmente en 1875, este territorio ha sido escenario de importantes acontecimientos hist贸ricos, desde asentamientos prehisp谩nicos hasta su participaci贸n en eventos revolucionarios.</p>
            
            <p>Actualmente, <span class="highlight">Los Reyes La Paz</span> combina armoniosamente su patrimonio hist贸rico con el desarrollo urbano moderno, ofreciendo a sus visitantes una variedad de atractivos culturales, naturales y religiosos. Sus calles son testigo del paso del tiempo, mientras sus habitantes preservan con orgullo las tradiciones que dan identidad a esta tierra.</p>
            
            <p>Te invitamos a explorar los principales atractivos tur铆sticos que ofrece nuestro municipio, donde podr谩s maravillarte con su zona arqueol贸gica, disfrutar de sus parques, conocer su arquitectura religiosa y deleitarte con su gastronom铆a tradicional. <span class="highlight">隆Los Reyes La Paz te espera con los brazos abiertos!</span></p>
            
            <!-- Bot贸n de Reserva Principal -->
            <div class="reserve-btn-container">
                <button class="reserve-btn" onclick="openModal()">
                    <i class="fas fa-calendar-check"></i> Reserva tu Visita
                </button>
            </div>

            <div class="destinations">
                <!-- Bot贸n 1: Zona Arqueol贸gica -->
                <a href="{% url 'tur1' %}" class="destination-btn" style="background-image: url('{% static "images/tu1.jpg" %}')">
                    <i class="fas fa-landmark destination-icon"></i>
                    <span class="destination-name">Zona Arqueol贸gica</span>
                </a>
                
                <!-- Bot贸n 2: Parque Soraya Jim茅nez -->
                <a href="{% url 'tur2' %}" class="destination-btn" style="background-image: url('{% static "images/tu2.jpg" %}')">
                    <i class="fas fa-tree destination-icon"></i>
                    <span class="destination-name">Parque Soraya Jim茅nez</span>
                </a>
                
                <!-- Bot贸n 3: Santa Marta -->
                <a href="{% url 'tur3' %}" class="destination-btn" style="background-image: url('{% static "images/tu3.jpg" %}')">
                    <i class="fas fa-mountain destination-icon"></i>
                    <span class="destination-name">Santa Marta</span>
                </a>
                
                <!-- Bot贸n 4: Parroquia Divino Salvador -->
                <a href="{% url 'tur4' %}" class="destination-btn" style="background-image: url('{% static "images/tu4.jpg" %}')">
                    <i class="fas fa-church destination-icon"></i>
                    <span class="destination-name">Parroquia Divino Salvador</span>
                </a>
                
                <!-- Bot贸n 5: Volc谩n de la Caldera -->
                <a href="{% url 'tur5' %}" class="destination-btn" style="background-image: url('{% static "images/tu5.jpg" %}')">
                    <i class="fas fa-fire destination-icon"></i>
                    <span class="destination-name">Volc谩n de la Caldera</span>
                </a>
                
                <!-- Bot贸n 6: Parque de la Ciencia -->
                <a href="{% url 'tur6' %}" class="destination-btn" style="background-image: url('{% static "images/tu6.jpg" %}')">
                    <i class="fas fa-atom destination-icon"></i>
                    <span class="destination-name">Parque de la Ciencia</span>
                </a>
            </div>
        </section>
        
        <footer>
            &copy; 2025 TURIPAZ - Los Reyes La Paz, Estado de M茅xico<br>
            Hecho por los alumnos del plantel CECYTEM "la paz" GRUPO:406<br>
            Brian Jesus Infante Cruz | Geovanny Miguel Perez Santiago<br>
            Kevin Gael Silverio Estevez | Daniel Alcaraz Rodriguez
        </footer>
    </div>

    <!-- Modal de Reserva -->
    <div id="reserveModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2><i class="fas fa-calendar-alt"></i> Reserva tu Visita</h2>
            <form id="reserveForm" onsubmit="handleSubmit(event)">
                <div class="form-group">
                    <label for="name"><i class="fas fa-user"></i> Nombre Completo *</label>
                    <input type="text" id="name" name="name" required placeholder="Ingresa tu nombre completo">
                </div>
                
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Correo Electr贸nico *</label>
                    <input type="email" id="email" name="email" required placeholder="ejemplo@correo.com">
                </div>
                
                <div class="form-group">
                    <label for="phone"><i class="fas fa-phone"></i> Tel茅fono *</label>
                    <input type="tel" id="phone" name="phone" required placeholder="10 d铆gitos" pattern="[0-9]{10}" title="Ingresa 10 d铆gitos">
                </div>
                
                <div class="form-group">
                    <label for="destination"><i class="fas fa-map-marker-alt"></i> Destino *</label>
                    <select id="destination" name="destination" required>
                        <option value="">Selecciona un destino</option>
                        <option value="zona-arqueologica">Zona Arqueol贸gica</option>
                        <option value="parque-soraya">Parque Soraya Jim茅nez</option>
                        <option value="santa-marta">Santa Marta</option>
                        <option value="parroquia">Parroquia Divino Salvador</option>
                        <option value="volcan">Volc谩n de la Caldera</option>
                        <option value="parque-ciencia">Parque de la Ciencia</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="date"><i class="fas fa-calendar"></i> Fecha de Visita *</label>
                    <input type="date" id="date" name="date" required>
                </div>
                
                <div class="form-group">
                    <label for="people"><i class="fas fa-users"></i> N煤mero de Personas *</label>
                    <input type="number" id="people" name="people" min="1" max="50" required placeholder="驴Cu谩ntas personas?">
                </div>
                
                <div class="form-group">
                    <label for="message"><i class="fas fa-comment"></i> Comentarios Adicionales</label>
                    <textarea id="message" name="message" placeholder="Escribe cualquier informaci贸n adicional o solicitud especial..."></textarea>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i> Enviar Reserva
                </button>
            </form>
        </div>
    </div>

    <script>
        function openModal() {
            const modal = document.getElementById('reserveModal');
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden'; // Previene scroll del body
            
            // Scroll al inicio del modal
            setTimeout(() => {
                modal.scrollTop = 0;
            }, 100);
        }

        function closeModal() {
            const modal = document.getElementById('reserveModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto'; // Restaura scroll del body
        }

        // Cerrar modal al hacer clic fuera de 茅l
        window.onclick = function(event) {
            const modal = document.getElementById('reserveModal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // Cerrar modal con la tecla ESC
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        // Establecer fecha m铆nima como hoy
        document.getElementById('date').min = new Date().toISOString().split('T')[0];

        function handleSubmit(event) {
            event.preventDefault();
            
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                destination: document.getElementById('destination').value,
                date: document.getElementById('date').value,
                people: document.getElementById('people').value,
                message: document.getElementById('message').value
            };
            
            console.log('Datos de reserva:', formData);
            
            // Obtener el nombre del destino seleccionado
            const destinationSelect = document.getElementById('destination');
            const destinationText = destinationSelect.options[destinationSelect.selectedIndex].text;
            
            alert('隆Reserva enviada exitosamente! \n\nNos pondremos en contacto contigo pronto.\n\n' +
                  ' Destino: ' + destinationText + 
                  '\n Fecha: ' + formData.date + 
                  '\n Personas: ' + formData.people);
            
            document.getElementById('reserveForm').reset();
            closeModal();
            
            // INTEGRACIN CON DJANGO (descomenta cuando est茅s listo)
            /*
            fetch('/guardar-reserva/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken')
                },
                body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
            */
        }

        // Funci贸n para obtener el CSRF token
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
    </script>
</body>
</html>